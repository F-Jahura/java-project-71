package hexlet.code;

import hexlet.code.formatters.Formatter;
import hexlet.code.formatters.Plain;
import org.junit.jupiter.api.Test;

import java.util.Map;
import java.util.HashMap;
import java.util.List;
import java.util.Arrays;

import static hexlet.code.formatters.Plain.formatValue;
import static org.junit.jupiter.api.Assertions.assertThrows;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class FormatterTest {
    @Test
    void testUnsupportedFormatThrowsException() {
        String unsupportedFormat = "xml";
        assertThrows(UnsupportedOperationException.class, () -> {
            Formatter.selectFormatStyle(unsupportedFormat);
        });
    }

    @Test
    void testFormatValueForMap() {
        Map<String, String> map = new HashMap<>();
        map.put("key", "value");
        String result = formatValue(map);
        assertEquals("[complex value]", result);
    }

    @Test
    void testFormatValueForList() {
        List<String> list = Arrays.asList("item1", "item2");
        String result = Plain.formatValue(list);
        assertEquals("[complex value]", result);
    }

    @Test
    void testFormatValueForString() {
        String value = "example";
        String result = Plain.formatValue(value);
        assertEquals("'example'", result);
    }

    @Test
    void testFormatValueForNumber() {
        Integer number = 42;
        String result = Plain.formatValue(number);
        assertEquals("42", result);
    }
}
